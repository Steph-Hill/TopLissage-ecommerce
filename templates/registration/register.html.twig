{% extends 'base.html.twig' %}

{% block title %}Register{% endblock %}

{% block body %}
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-3">
                <h1>Register</h1>
                {{ form_start(registrationForm) }}
                <div class="mb-3">
                    <label for="{{ registrationForm.name.vars.id }}">Name:</label>
                    {{ form_widget(registrationForm.name, { 'attr': {'class': 'form-control'} }) }}
                </div>
                <div class="mb-3">
                    <label for="{{ registrationForm.email.vars.id }}">Email:</label>
                    {{ form_widget(registrationForm.email, { 'attr': {'class': 'form-control'} }) }}
                </div>
                <div class="mb-3">
                    <label for="{{ registrationForm.plainPassword.vars.id }}">Password:</label>
                    {{ form_widget(registrationForm.plainPassword, { 'attr': {'class': 'form-control'} }) }}
                </div>
                {{ form_label(registrationForm.conditions, 'Conditions:') }}
                {{ form_widget(registrationForm.conditions, {'attr': {'class': 'form-check-input'}}) }}
                <label class="form-check-label" for="{{ registrationForm.conditions.vars.id }}_yes">Yes</label>
                <label class="form-check-label" for="{{ registrationForm.conditions.vars.id }}_no">No</label>

                {% if registrationForm.conditions.vars.value %}
                    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#hairSalonModal">Add Hair Salon</button>
                {% endif %}

                <div class="text-center">
                    <button type="submit" class="btn btn-primary">Register</button>
                </div>
                {{ form_end(registrationForm) }}
            </div>
        </div>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="hairSalonModal" tabindex="-1" aria-labelledby="hairSalonModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="hairSalonModalLabel">Add Hair Salon</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    {{ form_widget(form.hairSalon) }}
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary">Save</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function() {
            $('#hairSalonModal').on('shown.bs.modal', function() {
                // Code à exécuter lorsque le modal est affiché
                // Vous pouvez ajouter des manipulations supplémentaires ici, si nécessaire
            });
        });
    </script>
{% endblock %}
